<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Animated GitHub Contribution Banner — Neon</title>
<style>
  body{margin:0;background:#071124;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:#cfe8ff}
  .wrap{max-width:980px;margin:28px auto;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 10px 40px rgba(2,6,23,0.6);border:1px solid rgba(120,86,255,0.06)}
  .header{display:flex;align-items:center;gap:12px}
  .dot{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,#6be6ff33,#8b5cff33);border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center}
  .h1{font-size:16px;margin:0;color:#dbeafe}
  .sub{font-size:13px;color:#87a7d1}
  .gridwrap{display:flex;align-items:center;justify-content:center;padding:14px 6px}
  .grid{display:grid;grid-auto-flow:column;gap:6px;padding:10px}
  .col{display:grid;grid-auto-rows:14px;gap:6px}
  .cell{width:14px;height:14px;border-radius:3px;background:#071426;box-shadow:inset 0 -1px 0 rgba(0,0,0,0.35);transform:scale(.85);opacity:0;animation:pop .45s ease forwards}
  @keyframes pop{to{transform:scale(1);opacity:1}}
  /* color levels (neon-ish) */
  .lvl-0{background:#071426}
  .lvl-1{background:#9be9a8}
  .lvl-2{background:#4fdc6f}
  .lvl-3{background:#2fb84c}
  .lvl-4{background:#13ffd6} /* neon aqua for highest */
  .controls{display:flex;gap:8px;justify-content:center;margin-top:8px}
  input{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#dbeafe}
  button{padding:8px 12px;border-radius:8px;border:0;background:#7f5bff;color:white;cursor:pointer}
  .note{color:#9db5d9;font-size:12px;text-align:center;margin-top:10px}
  @media (max-width:560px){.col{grid-auto-rows:10px;gap:4px}.cell{width:10px;height:10px;border-radius:2px}}
</style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div class="dot"></div>
      <div>
        <h3 class="h1">Contributions</h3>
        <div class="sub">Animated GitHub-style contribution graph — neon theme</div>
      </div>
    </div>

    <div class="gridwrap">
      <div id="grid" class="grid" aria-hidden="true"></div>
    </div>

    <div class="controls">
      <input id="username" placeholder="GitHub username (optional)" />
      <button id="load">Generate</button>
    </div>
    <div class="note">Tip: For README use the SVG variant (no JS). If you give me your GitHub username I can embed your real data into an SVG for README.</div>
  </div>

<script>
  const grid = document.getElementById('grid');
  const load = document.getElementById('load');
  const input = document.getElementById('username');

  // build grid with deterministic pseudo-random levels
  function build(cols=26, rows=7, seed=12345){
    grid.innerHTML='';
    const data = [];
    // simple PRNG
    let s = seed;
    function rnd(){ s = (s * 48271) % 2147483647; return s / 2147483647; }
    for(let i=0;i<cols*rows;i++){
      const r = Math.floor(rnd()*5); // 0..4
      data.push(r);
    }
    for(let x=0;x<cols;x++){
      const col = document.createElement('div');
      col.className='col';
      for(let y=0;y<rows;y++){
        const idx = x*rows + y;
        const lvl = data[idx];
        const c = document.createElement('div');
        c.className = 'cell lvl-' + lvl;
        // stagger animation
        const delay = (idx * 18) % 900; // ms
        c.style.animationDelay = (delay/1000) + 's';
        col.appendChild(c);
      }
      grid.appendChild(col);
    }
  }

  // default render
  build(26,7,1337);

  // fetch real GitHub contributions (best-effort — may be blocked by CORS)
  async function loadFromGitHub(username){
    if(!username){ build(26,7,Math.floor(Date.now()%9999)); return; }
    const url = `https://github.com/users/${encodeURIComponent(username)}/contributions`;
    try{
      const res = await fetch(url,{mode:'cors'});
      if(!res.ok) throw new Error('fetch failed');
      const text = await res.text();
      const parser = new DOMParser();
      const doc = parser.parseFromString(text,'image/svg+xml');
      const rects = doc.querySelectorAll('rect[data-date]');
      if(!rects.length) throw new Error('no rects');
      const levels = [];
      rects.forEach(r=>{
        const lvl = Number(r.getAttribute('data-level')) || 0;
        levels.push(lvl);
      });
      // GitHub uses weeks as columns (7 rows)
      const rows = 7;
      const cols = Math.ceil(levels.length/rows);
      grid.innerHTML='';
      for(let x=0;x<cols;x++){
        const col=document.createElement('div');col.className='col';
        for(let y=0;y<rows;y++){
          const idx = x*rows + y;
          const lvl = levels[idx] ?? 0;
          const c=document.createElement('div'); c.className='cell lvl-'+lvl;
          c.style.animationDelay = ((idx*18)%900)/1000 + 's';
          col.appendChild(c);
        }
        grid.appendChild(col);
      }
    }catch(e){
      console.warn('Cannot fetch GitHub contributions; using generated pattern', e);
      build(26,7,Math.floor(Math.random()*100000));
    }
  }

  load.addEventListener('click', ()=> loadFromGitHub(input.value.trim()));
  input.addEventListener('keydown', e=>{ if(e.key==='Enter') load.click(); });
</script>
</body>
</html>
